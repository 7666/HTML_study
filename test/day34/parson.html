<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>person</title>
    <style media="screen">
      body{
        text-align: center;
      }
      #canvas{
        border: 1px solid gray;
      }
      img{
        display: none;
      }
    </style>
  </head>
  <body>
    <img id='img' src="./image/1.png" alt="">
    <canvas id="canvas" width="800" height="800"></canvas>
    <button type="button" name="button">前进</button>
    <button type="button" name="button">左转</button>
    <button type="button" name="button">右转</button>
    <button type="button" name="button">后退</button>
    <script>

    var img = document.getElementById('img');
    var can = document.getElementById('canvas');
    var btn1 = document.getElementsByTagName('button')[0];
    var btn2 = document.getElementsByTagName('button')[1];
    var btn3 = document.getElementsByTagName('button')[2];
    var btn4 = document.getElementsByTagName('button')[3];
    console.log(btn1);
    var c = can.getContext('2d');
    img.onload = function(){
      c.drawImage(img, 0, 0, 40, 65, 300, 300, 100, 150);
      var timer;
      var i = 0;
      var run = function(arg){
          can.width = 800;
          c.drawImage(img, i, arg, 40, 65, 300, 300, 100, 150);
          i+=40;
          if(i == 160){
            i = 0;
          }
      }
      btn1.onclick = function(){
        clearInterval(timer);
        timer = setInterval(function(){run (0);}, 100);
      }
      btn2.onclick = function(){
        clearInterval(timer);
        timer = setInterval(function(){run (65);}, 100);
      }
      btn3.onclick = function(){
        clearInterval(timer);
        timer = setInterval(function(){run (135);}, 100);
      }
      btn4.onclick = function(){
        clearInterval(timer);
        timer = setInterval(function(){run (195);}, 100);
      }
    }

    </script>
  </body>
</html>
